{
    "openapi": "3.0.3",
    "info": {
        "title": "HM Software API",
        "version": "0.1.0",
        "description": "Phase 0 (OPD) + Phase 1 (Lab) modular monolith backend"
    },
    "paths": {
        "/api/v1/alerts/": {
            "get": {
                "operationId": "alerts_list",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "name": "ordering",
                        "required": false,
                        "in": "query",
                        "description": "Which field to use when ordering the results.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "required": false,
                        "in": "query",
                        "description": "A page number within the paginated result set.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "page_size",
                        "required": false,
                        "in": "query",
                        "description": "Number of results to return per page.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "search",
                        "required": false,
                        "in": "query",
                        "description": "A search term.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "alerts"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedAlertList"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/alerts/{id}/": {
            "get": {
                "operationId": "alerts_retrieve",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this alert.",
                        "required": true
                    }
                ],
                "tags": [
                    "alerts"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Alert"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/alerts/{id}/ack/": {
            "post": {
                "operationId": "alerts_ack_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this alert.",
                        "required": true
                    }
                ],
                "tags": [
                    "alerts"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AlertRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/AlertRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/AlertRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Alert"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/audit/events/": {
            "get": {
                "operationId": "audit_events_list",
                "description": "List audit/timeline events (scoped).",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "query",
                        "name": "actor_user_id",
                        "schema": {
                            "type": "integer"
                        },
                        "description": "Filter by actor user id (int)."
                    },
                    {
                        "in": "query",
                        "name": "entity_id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Filter by entity UUID."
                    },
                    {
                        "in": "query",
                        "name": "entity_type",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Filter by entity type (e.g. Encounter, OrderItem, Invoice)."
                    },
                    {
                        "in": "query",
                        "name": "event_code",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Filter by event code (e.g. encounter.closed, lab.result.released)."
                    },
                    {
                        "in": "query",
                        "name": "limit",
                        "schema": {
                            "type": "integer"
                        },
                        "description": "Max records to return (default 200, max 500)."
                    },
                    {
                        "name": "ordering",
                        "required": false,
                        "in": "query",
                        "description": "Which field to use when ordering the results.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "required": false,
                        "in": "query",
                        "description": "A page number within the paginated result set.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "page_size",
                        "required": false,
                        "in": "query",
                        "description": "Number of results to return per page.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "search",
                        "required": false,
                        "in": "query",
                        "description": "A search term.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "Audit"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedAuditEventList"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/auth/login/": {
            "post": {
                "operationId": "auth_login_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    }
                ],
                "tags": [
                    "IAM"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LoginRequestRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/LoginRequestRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/LoginRequestRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    },
                    {}
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LoginResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/auth/logout/": {
            "post": {
                "operationId": "auth_logout_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    }
                ],
                "tags": [
                    "IAM"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LogoutResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/auth/refresh/": {
            "post": {
                "operationId": "auth_refresh_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    }
                ],
                "tags": [
                    "IAM"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    },
                    {}
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RefreshResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/billing/events/": {
            "get": {
                "operationId": "billing_events_list",
                "description": "Billing events (read-only in v1).",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "query",
                        "name": "encounter",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Filter by encounter UUID."
                    },
                    {
                        "name": "ordering",
                        "required": false,
                        "in": "query",
                        "description": "Which field to use when ordering the results.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "required": false,
                        "in": "query",
                        "description": "A page number within the paginated result set.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "page_size",
                        "required": false,
                        "in": "query",
                        "description": "Number of results to return per page.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "in": "query",
                        "name": "patient",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Filter by patient UUID."
                    },
                    {
                        "name": "search",
                        "required": false,
                        "in": "query",
                        "description": "A search term.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "Billing"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedBillableEventList"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/billing/invoices/": {
            "get": {
                "operationId": "billing_invoices_list",
                "description": "Billing v1 invoices:\n- list/retrieve\n- create draft\n- generate_from_events\n- issue\n- void\n- lines: GET/POST (manual add)",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "query",
                        "name": "encounter",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "ordering",
                        "required": false,
                        "in": "query",
                        "description": "Which field to use when ordering the results.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "required": false,
                        "in": "query",
                        "description": "A page number within the paginated result set.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "page_size",
                        "required": false,
                        "in": "query",
                        "description": "Number of results to return per page.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "in": "query",
                        "name": "patient",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "search",
                        "required": false,
                        "in": "query",
                        "description": "A search term.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "query",
                        "name": "status",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "Billing"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedInvoiceList"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            },
            "post": {
                "operationId": "billing_invoices_create",
                "description": "Billing v1 invoices:\n- list/retrieve\n- create draft\n- generate_from_events\n- issue\n- void\n- lines: GET/POST (manual add)",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    }
                ],
                "tags": [
                    "Billing"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/InvoiceCreateRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/InvoiceCreateRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/InvoiceCreateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Invoice"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/billing/invoices/{invoice_id}/payments/": {
            "get": {
                "operationId": "billing_invoices_payments_list",
                "description": "/billing/invoices/<invoice_id>/payments/\n- GET list payments\n- POST record a payment",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "invoice_id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "required": true
                    }
                ],
                "tags": [
                    "Billing"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Payment"
                                    }
                                }
                            }
                        },
                        "description": ""
                    }
                }
            },
            "post": {
                "operationId": "billing_invoices_payments_create",
                "description": "/billing/invoices/<invoice_id>/payments/\n- GET list payments\n- POST record a payment",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "invoice_id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "required": true
                    }
                ],
                "tags": [
                    "Billing"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PaymentCreateRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/PaymentCreateRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/PaymentCreateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Payment"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/billing/invoices/{id}/": {
            "get": {
                "operationId": "billing_invoices_retrieve",
                "description": "Billing v1 invoices:\n- list/retrieve\n- create draft\n- generate_from_events\n- issue\n- void\n- lines: GET/POST (manual add)",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this invoice.",
                        "required": true
                    }
                ],
                "tags": [
                    "Billing"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Invoice"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/billing/invoices/{id}/generate_from_events/": {
            "post": {
                "operationId": "billing_invoices_generate_from_events_create",
                "description": "Billing v1 invoices:\n- list/retrieve\n- create draft\n- generate_from_events\n- issue\n- void\n- lines: GET/POST (manual add)",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this invoice.",
                        "required": true
                    }
                ],
                "tags": [
                    "Billing"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/InvoiceGenerateFromEventsRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/InvoiceGenerateFromEventsRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/InvoiceGenerateFromEventsRequest"
                            }
                        }
                    }
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": {}
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/billing/invoices/{id}/issue/": {
            "post": {
                "operationId": "billing_invoices_issue_create",
                "description": "Billing v1 invoices:\n- list/retrieve\n- create draft\n- generate_from_events\n- issue\n- void\n- lines: GET/POST (manual add)",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this invoice.",
                        "required": true
                    }
                ],
                "tags": [
                    "Billing"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Invoice"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/billing/invoices/{id}/lines/": {
            "get": {
                "operationId": "billing_invoices_lines_list",
                "description": "/billing/invoices/<invoice_id>/lines/\n- GET: list lines\n- POST: add manual line to DRAFT invoice\n\nDefaults:\n- If price_includes_tax is omitted, we default based on facility.pricing_tax_mode:\n    * INCLUSIVE => includes tax\n    * EXCLUSIVE => excludes tax\n- If tax_percent omitted and chargeable_code present, we try Charge Master tax_percent.",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this invoice.",
                        "required": true
                    },
                    {
                        "name": "ordering",
                        "required": false,
                        "in": "query",
                        "description": "Which field to use when ordering the results.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "required": false,
                        "in": "query",
                        "description": "A page number within the paginated result set.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "page_size",
                        "required": false,
                        "in": "query",
                        "description": "Number of results to return per page.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "search",
                        "required": false,
                        "in": "query",
                        "description": "A search term.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "Billing"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedInvoiceLineList"
                                }
                            }
                        },
                        "description": ""
                    },
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InvoiceLine"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            },
            "post": {
                "operationId": "billing_invoices_lines_create",
                "description": "/billing/invoices/<invoice_id>/lines/\n- GET: list lines\n- POST: add manual line to DRAFT invoice\n\nDefaults:\n- If price_includes_tax is omitted, we default based on facility.pricing_tax_mode:\n    * INCLUSIVE => includes tax\n    * EXCLUSIVE => excludes tax\n- If tax_percent omitted and chargeable_code present, we try Charge Master tax_percent.",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this invoice.",
                        "required": true
                    },
                    {
                        "name": "ordering",
                        "required": false,
                        "in": "query",
                        "description": "Which field to use when ordering the results.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "required": false,
                        "in": "query",
                        "description": "A page number within the paginated result set.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "page_size",
                        "required": false,
                        "in": "query",
                        "description": "Number of results to return per page.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "search",
                        "required": false,
                        "in": "query",
                        "description": "A search term.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "Billing"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/InvoiceLineCreateRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/InvoiceLineCreateRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/InvoiceLineCreateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedInvoiceLineList"
                                }
                            }
                        },
                        "description": ""
                    },
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InvoiceLine"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/billing/invoices/{id}/void/": {
            "post": {
                "operationId": "billing_invoices_void_create",
                "description": "Billing v1 invoices:\n- list/retrieve\n- create draft\n- generate_from_events\n- issue\n- void\n- lines: GET/POST (manual add)",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this invoice.",
                        "required": true
                    },
                    {
                        "in": "query",
                        "name": "reason",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional void reason (you can also send in JSON body)."
                    }
                ],
                "tags": [
                    "Billing"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": {}
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": {}
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "additionalProperties": {}
                            }
                        }
                    }
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Invoice"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/documents/{document_id}/amend/": {
            "post": {
                "operationId": "documents_amend_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "document_id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "required": true
                    }
                ],
                "tags": [
                    "Clinical Docs"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AmendRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/AmendRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/AmendRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ClinicalDocument"
                                }
                            }
                        },
                        "description": ""
                    },
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ClinicalDocument"
                                }
                            }
                        },
                        "description": ""
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": {}
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/documents/{document_id}/finalize/": {
            "post": {
                "operationId": "documents_finalize_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "document_id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "required": true
                    }
                ],
                "tags": [
                    "Clinical Docs"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ClinicalDocument"
                                }
                            }
                        },
                        "description": ""
                    },
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ClinicalDocument"
                                }
                            }
                        },
                        "description": ""
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": {}
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/encounters/{encounter_id}/documents/draft/": {
            "post": {
                "operationId": "encounters_documents_draft_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "encounter_id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "required": true
                    }
                ],
                "tags": [
                    "Clinical Docs"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateDraftRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateDraftRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateDraftRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ClinicalDocument"
                                }
                            }
                        },
                        "description": ""
                    },
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ClinicalDocument"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/encounters/{encounter_id}/documents/latest/": {
            "get": {
                "operationId": "encounters_documents_latest_list",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "encounter_id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "required": true
                    },
                    {
                        "in": "query",
                        "name": "include_drafts",
                        "schema": {
                            "type": "boolean"
                        },
                        "description": "Include DRAFT documents too (default false)."
                    }
                ],
                "tags": [
                    "Clinical Docs"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/ClinicalDocument"
                                    }
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/encounters/{id}/assessment/": {
            "post": {
                "operationId": "encounters_assessment_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this encounter.",
                        "required": true
                    }
                ],
                "tags": [
                    "encounters"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Encounter"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/encounters/{id}/checkin/": {
            "post": {
                "operationId": "encounters_checkin_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this encounter.",
                        "required": true
                    }
                ],
                "tags": [
                    "encounters"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Encounter"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/encounters/{id}/close/": {
            "post": {
                "operationId": "encounters_close_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this encounter.",
                        "required": true
                    }
                ],
                "tags": [
                    "encounters"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Encounter"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/encounters/{id}/close-gate/": {
            "get": {
                "operationId": "encounters_close_gate_retrieve",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this encounter.",
                        "required": true
                    }
                ],
                "tags": [
                    "encounters"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Encounter"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/encounters/{id}/close-strict/": {
            "post": {
                "operationId": "encounters_close_strict_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this encounter.",
                        "required": true
                    }
                ],
                "tags": [
                    "encounters"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Encounter"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/encounters/{id}/plan/": {
            "post": {
                "operationId": "encounters_plan_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this encounter.",
                        "required": true
                    }
                ],
                "tags": [
                    "encounters"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Encounter"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/encounters/{id}/timeline/": {
            "get": {
                "operationId": "encounters_timeline_retrieve",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this encounter.",
                        "required": true
                    }
                ],
                "tags": [
                    "encounters"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Encounter"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/encounters/{id}/vitals/": {
            "post": {
                "operationId": "encounters_vitals_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this encounter.",
                        "required": true
                    }
                ],
                "tags": [
                    "encounters"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Encounter"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/facilities/": {
            "get": {
                "operationId": "facilities_list",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    }
                ],
                "tags": [
                    "facilities"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Facility"
                                    }
                                }
                            }
                        },
                        "description": ""
                    }
                }
            },
            "post": {
                "operationId": "facilities_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    }
                ],
                "tags": [
                    "facilities"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FacilityRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/FacilityRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/FacilityRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Facility"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/facilities/{id}/": {
            "get": {
                "operationId": "facilities_retrieve",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this facility.",
                        "required": true
                    }
                ],
                "tags": [
                    "facilities"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Facility"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            },
            "patch": {
                "operationId": "facilities_partial_update",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this facility.",
                        "required": true
                    }
                ],
                "tags": [
                    "facilities"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PatchedFacilityRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/PatchedFacilityRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/PatchedFacilityRequest"
                            }
                        }
                    }
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Facility"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/facilities/{id}/deactivate/": {
            "post": {
                "operationId": "facilities_deactivate_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this facility.",
                        "required": true
                    }
                ],
                "tags": [
                    "facilities"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FacilityRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/FacilityRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/FacilityRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Facility"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/lab/results/": {
            "post": {
                "operationId": "lab_results_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    }
                ],
                "tags": [
                    "lab"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LabResultRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/LabResultRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/LabResultRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LabResult"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/lab/results/{id}/release/": {
            "post": {
                "operationId": "lab_results_release_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this lab result.",
                        "required": true
                    }
                ],
                "tags": [
                    "lab"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LabResultRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/LabResultRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/LabResultRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LabResult"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/lab/results/{id}/verify/": {
            "post": {
                "operationId": "lab_results_verify_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this lab result.",
                        "required": true
                    }
                ],
                "tags": [
                    "lab"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LabResultRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/LabResultRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/LabResultRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LabResult"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/lab/samples/receive/": {
            "post": {
                "operationId": "lab_samples_receive_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    }
                ],
                "tags": [
                    "lab"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LabSampleRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/LabSampleRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/LabSampleRequest"
                            }
                        }
                    }
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LabSample"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/me/": {
            "get": {
                "operationId": "me_retrieve",
                "description": "Returns user info + memberships.\nScope headers are OPTIONAL for GET /me.\nIf scope headers are provided, they MUST be valid and user MUST be a member, else 400/403.",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "IAM"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/MeResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            },
            "post": {
                "operationId": "me_create",
                "description": "Switch active tenant/facility scope.\nExpects: {\"tenant_id\": \"uuid\", \"facility_id\": \"uuid\"}\n\nNote: Server cannot \"set headers\" for the client; client should use returned scope\nand send X-Tenant-Id / X-Facility-Id headers in subsequent requests.",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    }
                ],
                "tags": [
                    "IAM"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ScopeSwitchRequestRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/ScopeSwitchRequestRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/ScopeSwitchRequestRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ScopeSwitchResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/notifications/": {
            "get": {
                "operationId": "notifications_list",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "name": "ordering",
                        "required": false,
                        "in": "query",
                        "description": "Which field to use when ordering the results.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "required": false,
                        "in": "query",
                        "description": "A page number within the paginated result set.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "page_size",
                        "required": false,
                        "in": "query",
                        "description": "Number of results to return per page.",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "search",
                        "required": false,
                        "in": "query",
                        "description": "A search term.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "notifications"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedNotificationList"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/notifications/{id}/": {
            "get": {
                "operationId": "notifications_retrieve",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this notification.",
                        "required": true
                    }
                ],
                "tags": [
                    "notifications"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Notification"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/notifications/{id}/mark-read/": {
            "post": {
                "operationId": "notifications_mark_read_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this notification.",
                        "required": true
                    }
                ],
                "tags": [
                    "notifications"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/NotificationRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/NotificationRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/NotificationRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Notification"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/orders/": {
            "get": {
                "operationId": "v1_orders_list",
                "description": "Thin API layer:\n- scope parsing\n- idempotency caching\n- serializers validation\n- delegates writes to OrderService, reads to OrderSelector",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string"
                        },
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string"
                        },
                        "required": true
                    }
                ],
                "tags": [
                    "Orders"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Order"
                                    }
                                }
                            }
                        },
                        "description": ""
                    }
                }
            },
            "post": {
                "operationId": "v1_orders_create",
                "description": "Thin API layer:\n- scope parsing\n- idempotency caching\n- serializers validation\n- delegates writes to OrderService, reads to OrderSelector",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string"
                        },
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string"
                        },
                        "required": true
                    }
                ],
                "tags": [
                    "Orders"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/OrderCreateRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/OrderCreateRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/OrderCreateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Order"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/orders/{id}/": {
            "get": {
                "operationId": "v1_orders_retrieve",
                "description": "Thin API layer:\n- scope parsing\n- idempotency caching\n- serializers validation\n- delegates writes to OrderService, reads to OrderSelector",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string"
                        },
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string"
                        },
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this order.",
                        "required": true
                    }
                ],
                "tags": [
                    "Orders"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Order"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/patients/": {
            "get": {
                "operationId": "patients_list",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    }
                ],
                "tags": [
                    "patients"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Patient"
                                    }
                                }
                            }
                        },
                        "description": ""
                    }
                }
            },
            "post": {
                "operationId": "patients_create",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    }
                ],
                "tags": [
                    "patients"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Patient"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/session/bootstrap/": {
            "get": {
                "operationId": "session_bootstrap_retrieve",
                "description": "Frontend bootstrap endpoint.\n\n- Requires auth (cookie or header JWT).\n- Scope headers OPTIONAL.\n  - If provided -> validated + membership enforced.\n  - If not provided -> server chooses a default scope from memberships.\n- Returns everything needed for UI initialization.",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "IAM"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SessionBootstrapResponse"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tasks/": {
            "get": {
                "operationId": "v1_tasks_list",
                "description": "Thin API layer:\n- scope parsing\n- validation mapping\n- calls selectors for reads\n- calls services for writes",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    }
                ],
                "tags": [
                    "Tasks"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Task"
                                    }
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tasks/{id}/assign/": {
            "post": {
                "operationId": "v1_tasks_assign",
                "description": "Thin API layer:\n- scope parsing\n- validation mapping\n- calls selectors for reads\n- calls services for writes",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this task.",
                        "required": true
                    }
                ],
                "tags": [
                    "Tasks"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Task"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tasks/{id}/cancel/": {
            "post": {
                "operationId": "v1_tasks_cancel",
                "description": "Thin API layer:\n- scope parsing\n- validation mapping\n- calls selectors for reads\n- calls services for writes",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this task.",
                        "required": true
                    }
                ],
                "tags": [
                    "Tasks"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Task"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tasks/{id}/done/": {
            "post": {
                "operationId": "v1_tasks_done",
                "description": "Thin API layer:\n- scope parsing\n- validation mapping\n- calls selectors for reads\n- calls services for writes",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this task.",
                        "required": true
                    }
                ],
                "tags": [
                    "Tasks"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Task"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tasks/{id}/reopen/": {
            "post": {
                "operationId": "v1_tasks_reopen",
                "description": "Thin API layer:\n- scope parsing\n- validation mapping\n- calls selectors for reads\n- calls services for writes",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this task.",
                        "required": true
                    }
                ],
                "tags": [
                    "Tasks"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Task"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tasks/{id}/start/": {
            "post": {
                "operationId": "v1_tasks_start",
                "description": "Thin API layer:\n- scope parsing\n- validation mapping\n- calls selectors for reads\n- calls services for writes",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this task.",
                        "required": true
                    }
                ],
                "tags": [
                    "Tasks"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Task"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tasks/{id}/unassign/": {
            "post": {
                "operationId": "v1_tasks_unassign",
                "description": "Thin API layer:\n- scope parsing\n- validation mapping\n- calls selectors for reads\n- calls services for writes",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this task.",
                        "required": true
                    }
                ],
                "tags": [
                    "Tasks"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Task"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tasks/backfill-done/": {
            "post": {
                "operationId": "v1_tasks_backfill_done",
                "description": "Thin API layer:\n- scope parsing\n- validation mapping\n- calls selectors for reads\n- calls services for writes",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    }
                ],
                "tags": [
                    "Tasks"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Task"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tenants/": {
            "get": {
                "operationId": "v1_tenants_list",
                "description": "Admin-only tenant management.\nRouting is centralized in hm_core/api/urls.py (locked standard).",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    }
                ],
                "tags": [
                    "Tenants"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Tenant"
                                    }
                                }
                            }
                        },
                        "description": ""
                    }
                }
            },
            "post": {
                "operationId": "v1_tenants_create",
                "description": "Admin-only tenant management.\nRouting is centralized in hm_core/api/urls.py (locked standard).",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    }
                ],
                "tags": [
                    "Tenants"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TenantCreateRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/TenantCreateRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/TenantCreateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Tenant"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tenants/{id}/": {
            "get": {
                "operationId": "v1_tenants_retrieve",
                "description": "Admin-only tenant management.\nRouting is centralized in hm_core/api/urls.py (locked standard).",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this tenant.",
                        "required": true
                    }
                ],
                "tags": [
                    "Tenants"
                ],
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Tenant"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tenants/{id}/set-metadata/": {
            "post": {
                "operationId": "v1_tenants_set_metadata",
                "description": "Admin-only tenant management.\nRouting is centralized in hm_core/api/urls.py (locked standard).",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this tenant.",
                        "required": true
                    }
                ],
                "tags": [
                    "Tenants"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TenantMetadataUpdateRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/TenantMetadataUpdateRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/TenantMetadataUpdateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Tenant"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        },
        "/api/v1/tenants/{id}/set-status/": {
            "post": {
                "operationId": "v1_tenants_set_status",
                "description": "Admin-only tenant management.\nRouting is centralized in hm_core/api/urls.py (locked standard).",
                "parameters": [
                    {
                        "in": "header",
                        "name": "Idempotency-Key",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Optional idempotency key for safely retrying POST/PUT requests. Strongly recommended for client retries."
                    },
                    {
                        "in": "header",
                        "name": "X-Facility-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Facility scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "header",
                        "name": "X-Tenant-Id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "Tenant scope UUID (required for scoped endpoints).",
                        "required": true
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "description": "A UUID string identifying this tenant.",
                        "required": true
                    }
                ],
                "tags": [
                    "Tenants"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TenantStatusUpdateRequest"
                            }
                        },
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/TenantStatusUpdateRequest"
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/TenantStatusUpdateRequest"
                            }
                        }
                    },
                    "required": true
                },
                "security": [
                    {
                        "BearerOrCookieJWT": []
                    },
                    {
                        "BearerOrCookieJWT": []
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Tenant"
                                }
                            }
                        },
                        "description": ""
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "ActiveScope": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "facility_id": {
                        "type": "string",
                        "format": "uuid"
                    }
                },
                "required": [
                    "facility_id",
                    "tenant_id"
                ]
            },
            "Alert": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "code": {
                        "type": "string",
                        "maxLength": 64,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "title": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "message": {
                        "type": "string"
                    },
                    "severity": {
                        "enum": [
                            "INFO",
                            "WARNING",
                            "CRITICAL"
                        ],
                        "type": "string",
                        "description": "* `INFO` - Info\n* `WARNING` - Warning\n* `CRITICAL` - Critical",
                        "x-spec-enum-id": "63587d2f5bc3d57e"
                    },
                    "status": {
                        "enum": [
                            "OPEN",
                            "ACKED",
                            "RESOLVED",
                            "DISMISSED"
                        ],
                        "type": "string",
                        "description": "* `OPEN` - Open\n* `ACKED` - Acknowledged\n* `RESOLVED` - Resolved\n* `DISMISSED` - Dismissed",
                        "x-spec-enum-id": "075f49077b39717d"
                    },
                    "encounter_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "task_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "patient_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "lab_result_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "acked_by_user_id": {
                        "type": "integer",
                        "maximum": 2147483647,
                        "minimum": -2147483648,
                        "nullable": true
                    },
                    "acked_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "meta": {}
                },
                "required": [
                    "code",
                    "created_at",
                    "id",
                    "title",
                    "updated_at"
                ]
            },
            "AlertRequest": {
                "type": "object",
                "properties": {
                    "code": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 64,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "title": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 255
                    },
                    "message": {
                        "type": "string"
                    },
                    "severity": {
                        "enum": [
                            "INFO",
                            "WARNING",
                            "CRITICAL"
                        ],
                        "type": "string",
                        "description": "* `INFO` - Info\n* `WARNING` - Warning\n* `CRITICAL` - Critical",
                        "x-spec-enum-id": "63587d2f5bc3d57e"
                    },
                    "status": {
                        "enum": [
                            "OPEN",
                            "ACKED",
                            "RESOLVED",
                            "DISMISSED"
                        ],
                        "type": "string",
                        "description": "* `OPEN` - Open\n* `ACKED` - Acknowledged\n* `RESOLVED` - Resolved\n* `DISMISSED` - Dismissed",
                        "x-spec-enum-id": "075f49077b39717d"
                    },
                    "encounter_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "task_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "patient_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "lab_result_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "acked_by_user_id": {
                        "type": "integer",
                        "maximum": 2147483647,
                        "minimum": -2147483648,
                        "nullable": true
                    },
                    "acked_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "meta": {}
                },
                "required": [
                    "code",
                    "title"
                ]
            },
            "AmendRequest": {
                "type": "object",
                "properties": {
                    "payload_patch": {},
                    "idempotency_key": {
                        "type": "string",
                        "nullable": true
                    }
                },
                "required": [
                    "payload_patch"
                ]
            },
            "AuditEvent": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "facility_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "entity_type": {
                        "type": "string",
                        "readOnly": true
                    },
                    "entity_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "event_code": {
                        "type": "string",
                        "readOnly": true
                    },
                    "actor_user_id": {
                        "type": "integer",
                        "readOnly": true
                    },
                    "timestamp": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "metadata": {
                        "readOnly": true
                    }
                },
                "required": [
                    "actor_user_id",
                    "entity_id",
                    "entity_type",
                    "event_code",
                    "facility_id",
                    "id",
                    "metadata",
                    "tenant_id",
                    "timestamp"
                ]
            },
            "BillableEvent": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "facility_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "encounter": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "event_type": {
                        "enum": [
                            "SERVICE_DELIVERED"
                        ],
                        "type": "string",
                        "description": "* `SERVICE_DELIVERED` - Service Delivered",
                        "x-spec-enum-id": "a709f1e856ccbcde",
                        "readOnly": true
                    },
                    "chargeable_code": {
                        "type": "string",
                        "readOnly": true,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "quantity": {
                        "type": "integer",
                        "readOnly": true
                    },
                    "source_order_item": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    }
                },
                "required": [
                    "chargeable_code",
                    "created_at",
                    "encounter",
                    "event_type",
                    "facility_id",
                    "id",
                    "quantity",
                    "source_order_item",
                    "tenant_id",
                    "updated_at"
                ]
            },
            "ClinicalDocument": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "facility_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "patient_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "encounter_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "template_code": {
                        "type": "string",
                        "maxLength": 100
                    },
                    "version": {
                        "type": "integer",
                        "maximum": 2147483647,
                        "minimum": 0
                    },
                    "status": {
                        "enum": [
                            "DRAFT",
                            "FINAL",
                            "AMENDED"
                        ],
                        "type": "string",
                        "description": "* `DRAFT` - Draft\n* `FINAL` - Final\n* `AMENDED` - Amended",
                        "x-spec-enum-id": "52f5aeb23b7585fc"
                    },
                    "supersedes_document_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "payload": {},
                    "idempotency_key": {
                        "type": "string",
                        "nullable": true,
                        "maxLength": 255
                    },
                    "created_by_user_id": {
                        "type": "integer",
                        "maximum": 9223372036854775807,
                        "minimum": -9223372036854775808,
                        "format": "int64"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    }
                },
                "required": [
                    "created_at",
                    "created_by_user_id",
                    "encounter_id",
                    "facility_id",
                    "id",
                    "patient_id",
                    "status",
                    "template_code",
                    "tenant_id",
                    "version"
                ]
            },
            "CreateDraftRequest": {
                "type": "object",
                "properties": {
                    "patient_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "template_code": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 100
                    },
                    "payload": {},
                    "idempotency_key": {
                        "type": "string",
                        "nullable": true
                    }
                },
                "required": [
                    "patient_id",
                    "template_code"
                ]
            },
            "Encounter": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "facility_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "patient_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "status": {
                        "enum": [
                            "CREATED",
                            "CHECKED_IN",
                            "IN_CONSULT",
                            "CLOSED",
                            "CANCELLED"
                        ],
                        "type": "string",
                        "description": "* `CREATED` - Created\n* `CHECKED_IN` - Checked In\n* `IN_CONSULT` - In Consult\n* `CLOSED` - Closed\n* `CANCELLED` - Cancelled",
                        "x-spec-enum-id": "f9a034246408fa37",
                        "readOnly": true
                    },
                    "scheduled_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "nullable": true
                    },
                    "checked_in_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "nullable": true
                    },
                    "consult_started_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "nullable": true
                    },
                    "closed_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "nullable": true
                    },
                    "reason": {
                        "type": "string",
                        "readOnly": true
                    },
                    "attending_doctor_id": {
                        "type": "integer",
                        "nullable": true,
                        "readOnly": true
                    },
                    "created_by_id": {
                        "type": "integer",
                        "nullable": true,
                        "readOnly": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    }
                },
                "required": [
                    "attending_doctor_id",
                    "checked_in_at",
                    "closed_at",
                    "consult_started_at",
                    "created_at",
                    "created_by_id",
                    "facility_id",
                    "id",
                    "patient_id",
                    "reason",
                    "scheduled_at",
                    "status",
                    "tenant_id",
                    "updated_at"
                ]
            },
            "Facility": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "name": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "code": {
                        "type": "string",
                        "maxLength": 64,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "facility_type": {
                        "enum": [
                            "HOSPITAL",
                            "CLINIC",
                            "LAB",
                            "PHARMACY",
                            "DIAGNOSTIC",
                            "OTHER"
                        ],
                        "type": "string",
                        "description": "* `HOSPITAL` - Hospital\n* `CLINIC` - Clinic\n* `LAB` - Lab\n* `PHARMACY` - Pharmacy\n* `DIAGNOSTIC` - Diagnostic Center\n* `OTHER` - Other",
                        "x-spec-enum-id": "2a6d87f8646c09dd"
                    },
                    "parent_facility_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "timezone": {
                        "type": "string",
                        "maxLength": 64
                    },
                    "phone": {
                        "type": "string",
                        "maxLength": 32
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "maxLength": 254
                    },
                    "address_line1": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "address_line2": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "city": {
                        "type": "string",
                        "maxLength": 128
                    },
                    "state": {
                        "type": "string",
                        "maxLength": 128
                    },
                    "pincode": {
                        "type": "string",
                        "maxLength": 16
                    },
                    "country": {
                        "type": "string",
                        "maxLength": 64
                    },
                    "registration_number": {
                        "type": "string",
                        "maxLength": 64
                    },
                    "gstin": {
                        "type": "string",
                        "maxLength": 32
                    },
                    "is_active": {
                        "type": "boolean"
                    },
                    "deactivated_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "deactivation_reason": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    }
                },
                "required": [
                    "code",
                    "created_at",
                    "id",
                    "name",
                    "parent_facility_id",
                    "tenant_id",
                    "updated_at"
                ]
            },
            "FacilityMini": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "code": {
                        "type": "string",
                        "nullable": true
                    },
                    "name": {
                        "type": "string",
                        "nullable": true
                    }
                },
                "required": [
                    "id"
                ]
            },
            "FacilityRequest": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 255
                    },
                    "code": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 64,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "facility_type": {
                        "enum": [
                            "HOSPITAL",
                            "CLINIC",
                            "LAB",
                            "PHARMACY",
                            "DIAGNOSTIC",
                            "OTHER"
                        ],
                        "type": "string",
                        "description": "* `HOSPITAL` - Hospital\n* `CLINIC` - Clinic\n* `LAB` - Lab\n* `PHARMACY` - Pharmacy\n* `DIAGNOSTIC` - Diagnostic Center\n* `OTHER` - Other",
                        "x-spec-enum-id": "2a6d87f8646c09dd"
                    },
                    "timezone": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 64
                    },
                    "phone": {
                        "type": "string",
                        "maxLength": 32
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "maxLength": 254
                    },
                    "address_line1": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "address_line2": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "city": {
                        "type": "string",
                        "maxLength": 128
                    },
                    "state": {
                        "type": "string",
                        "maxLength": 128
                    },
                    "pincode": {
                        "type": "string",
                        "maxLength": 16
                    },
                    "country": {
                        "type": "string",
                        "maxLength": 64
                    },
                    "registration_number": {
                        "type": "string",
                        "maxLength": 64
                    },
                    "gstin": {
                        "type": "string",
                        "maxLength": 32
                    },
                    "is_active": {
                        "type": "boolean"
                    },
                    "deactivated_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "deactivation_reason": {
                        "type": "string",
                        "maxLength": 255
                    }
                },
                "required": [
                    "code",
                    "name"
                ]
            },
            "Invoice": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "facility_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "patient": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "encounter": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true,
                        "nullable": true
                    },
                    "invoice_number": {
                        "type": "string",
                        "readOnly": true
                    },
                    "status": {
                        "enum": [
                            "DRAFT",
                            "ISSUED",
                            "PARTIALLY_PAID",
                            "PAID",
                            "VOID"
                        ],
                        "type": "string",
                        "description": "* `DRAFT` - Draft\n* `ISSUED` - Issued\n* `PARTIALLY_PAID` - Partially Paid\n* `PAID` - Paid\n* `VOID` - Void",
                        "x-spec-enum-id": "3de0a8fe2db4861c",
                        "readOnly": true
                    },
                    "currency": {
                        "type": "string",
                        "readOnly": true
                    },
                    "subtotal": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "discount_total": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "tax_total": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "grand_total": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "amount_paid": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "balance_due": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "issued_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "nullable": true
                    },
                    "due_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "nullable": true
                    },
                    "paid_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "nullable": true
                    },
                    "voided_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "nullable": true
                    },
                    "notes": {
                        "type": "string",
                        "readOnly": true
                    },
                    "lines": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/InvoiceLine"
                        },
                        "readOnly": true
                    },
                    "payments": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Payment"
                        },
                        "readOnly": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    }
                },
                "required": [
                    "amount_paid",
                    "balance_due",
                    "created_at",
                    "currency",
                    "discount_total",
                    "due_at",
                    "encounter",
                    "facility_id",
                    "grand_total",
                    "id",
                    "invoice_number",
                    "issued_at",
                    "lines",
                    "notes",
                    "paid_at",
                    "patient",
                    "payments",
                    "status",
                    "subtotal",
                    "tax_total",
                    "tenant_id",
                    "updated_at",
                    "voided_at"
                ]
            },
            "InvoiceCreateRequest": {
                "type": "object",
                "properties": {
                    "patient": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "encounter": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "notes": {
                        "type": "string",
                        "default": ""
                    }
                },
                "required": [
                    "patient"
                ]
            },
            "InvoiceGenerateFromEventsRequest": {
                "type": "object",
                "properties": {
                    "encounter": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "patient": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "default_unit_price": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "default": "0.00"
                    }
                }
            },
            "InvoiceLine": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "facility_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "invoice": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "billable_event": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true,
                        "nullable": true
                    },
                    "chargeable_code": {
                        "type": "string",
                        "readOnly": true,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "description": {
                        "type": "string",
                        "readOnly": true
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,8}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "unit_price": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "line_total": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "tax_percent": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,3}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "tax_amount": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    }
                },
                "required": [
                    "billable_event",
                    "chargeable_code",
                    "created_at",
                    "description",
                    "facility_id",
                    "id",
                    "invoice",
                    "line_total",
                    "quantity",
                    "tax_amount",
                    "tax_percent",
                    "tenant_id",
                    "unit_price",
                    "updated_at"
                ]
            },
            "InvoiceLineCreateRequest": {
                "type": "object",
                "description": "Manual line creation.\n\nNotes:\n- unit_price is interpreted as:\n    * base price if price_includes_tax=false\n    * gross (tax-included) price if price_includes_tax=true\n- If tax_percent is omitted and chargeable_code is provided, we try Charge Master.",
                "properties": {
                    "description": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 255
                    },
                    "chargeable_code": {
                        "type": "string",
                        "default": ""
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,8}(?:\\.\\d{0,2})?$",
                        "default": "1.00"
                    },
                    "unit_price": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "default": "0.00"
                    },
                    "tax_percent": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,3}(?:\\.\\d{0,2})?$",
                        "nullable": true
                    },
                    "price_includes_tax": {
                        "type": "boolean"
                    }
                },
                "required": [
                    "description"
                ]
            },
            "LabResult": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "order_item_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "version": {
                        "type": "integer",
                        "maximum": 2147483647,
                        "minimum": 0
                    },
                    "result_payload": {},
                    "is_critical": {
                        "type": "boolean"
                    },
                    "critical_reasons": {},
                    "verified_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "released_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "required": [
                    "id",
                    "order_item_id",
                    "version"
                ]
            },
            "LabResultRequest": {
                "type": "object",
                "properties": {
                    "version": {
                        "type": "integer",
                        "maximum": 2147483647,
                        "minimum": 0
                    },
                    "result_payload": {},
                    "is_critical": {
                        "type": "boolean"
                    },
                    "critical_reasons": {},
                    "verified_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "released_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "required": [
                    "version"
                ]
            },
            "LabSample": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "order_item_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "barcode": {
                        "type": "string",
                        "nullable": true,
                        "maxLength": 64
                    },
                    "received_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "required": [
                    "id",
                    "order_item_id"
                ]
            },
            "LabSampleRequest": {
                "type": "object",
                "properties": {
                    "barcode": {
                        "type": "string",
                        "nullable": true,
                        "maxLength": 64
                    },
                    "received_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "LoginRequestRequest": {
                "type": "object",
                "properties": {
                    "username": {
                        "type": "string",
                        "minLength": 1
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "minLength": 1
                    },
                    "password": {
                        "type": "string",
                        "minLength": 1
                    }
                },
                "required": [
                    "password"
                ]
            },
            "LoginResponse": {
                "type": "object",
                "properties": {
                    "detail": {
                        "type": "string"
                    }
                },
                "required": [
                    "detail"
                ]
            },
            "LogoutResponse": {
                "type": "object",
                "properties": {
                    "detail": {
                        "type": "string"
                    }
                },
                "required": [
                    "detail"
                ]
            },
            "MeResponse": {
                "type": "object",
                "properties": {
                    "user": {
                        "$ref": "#/components/schemas/MeUser"
                    },
                    "memberships": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "additionalProperties": {}
                        }
                    },
                    "active_scope": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/ActiveScope"
                            }
                        ],
                        "nullable": true
                    }
                },
                "required": [
                    "memberships",
                    "user"
                ]
            },
            "MeUser": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "username": {
                        "type": "string",
                        "nullable": true
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "nullable": true
                    },
                    "is_superuser": {
                        "type": "boolean"
                    }
                },
                "required": [
                    "id",
                    "is_superuser"
                ]
            },
            "Notification": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "title": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "body": {
                        "type": "string"
                    },
                    "channel": {
                        "enum": [
                            "IN_APP",
                            "EMAIL",
                            "SMS",
                            "WHATSAPP"
                        ],
                        "type": "string",
                        "description": "* `IN_APP` - In App\n* `EMAIL` - Email\n* `SMS` - SMS\n* `WHATSAPP` - WhatsApp",
                        "x-spec-enum-id": "8c6e0ac4e045b361"
                    },
                    "is_read": {
                        "type": "boolean"
                    },
                    "read_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "alert_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true,
                        "readOnly": true
                    },
                    "encounter_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "task_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "meta": {}
                },
                "required": [
                    "alert_id",
                    "created_at",
                    "id",
                    "title"
                ]
            },
            "NotificationRequest": {
                "type": "object",
                "properties": {
                    "title": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 255
                    },
                    "body": {
                        "type": "string"
                    },
                    "channel": {
                        "enum": [
                            "IN_APP",
                            "EMAIL",
                            "SMS",
                            "WHATSAPP"
                        ],
                        "type": "string",
                        "description": "* `IN_APP` - In App\n* `EMAIL` - Email\n* `SMS` - SMS\n* `WHATSAPP` - WhatsApp",
                        "x-spec-enum-id": "8c6e0ac4e045b361"
                    },
                    "is_read": {
                        "type": "boolean"
                    },
                    "read_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "encounter_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "task_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "meta": {}
                },
                "required": [
                    "title"
                ]
            },
            "Order": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "encounter": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "order_type": {
                        "enum": [
                            "LAB"
                        ],
                        "type": "string",
                        "description": "* `LAB` - Lab",
                        "x-spec-enum-id": "589b8fdbb00f614f"
                    },
                    "priority": {
                        "enum": [
                            "ROUTINE",
                            "URGENT",
                            "STAT"
                        ],
                        "type": "string",
                        "description": "* `ROUTINE` - Routine\n* `URGENT` - Urgent\n* `STAT` - Stat",
                        "x-spec-enum-id": "df03fc8557b27ee7"
                    },
                    "status": {
                        "enum": [
                            "CREATED",
                            "CANCELLED"
                        ],
                        "type": "string",
                        "description": "* `CREATED` - Created\n* `CANCELLED` - Cancelled",
                        "x-spec-enum-id": "841db18d121a3867"
                    },
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/OrderItem"
                        },
                        "readOnly": true
                    }
                },
                "required": [
                    "encounter",
                    "id",
                    "items",
                    "order_type"
                ]
            },
            "OrderCreateRequest": {
                "type": "object",
                "properties": {
                    "encounter_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "order_type": {
                        "enum": [
                            "LAB"
                        ],
                        "type": "string",
                        "description": "* `LAB` - Lab",
                        "x-spec-enum-id": "589b8fdbb00f614f"
                    },
                    "priority": {
                        "enum": [
                            "ROUTINE",
                            "URGENT",
                            "STAT"
                        ],
                        "type": "string",
                        "description": "* `ROUTINE` - Routine\n* `URGENT` - Urgent\n* `STAT` - Stat",
                        "x-spec-enum-id": "df03fc8557b27ee7",
                        "default": "ROUTINE"
                    },
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/OrderItemCreateRequest"
                        }
                    }
                },
                "required": [
                    "encounter_id",
                    "items",
                    "order_type"
                ]
            },
            "OrderItem": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "service_code": {
                        "type": "string",
                        "maxLength": 64,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "priority": {
                        "enum": [
                            "ROUTINE",
                            "URGENT",
                            "STAT"
                        ],
                        "type": "string",
                        "description": "* `ROUTINE` - Routine\n* `URGENT` - Urgent\n* `STAT` - Stat",
                        "x-spec-enum-id": "df03fc8557b27ee7"
                    },
                    "status": {
                        "enum": [
                            "REQUESTED"
                        ],
                        "type": "string",
                        "description": "* `REQUESTED` - Requested",
                        "x-spec-enum-id": "56c3180169477f37"
                    }
                },
                "required": [
                    "id",
                    "service_code"
                ]
            },
            "OrderItemCreateRequest": {
                "type": "object",
                "properties": {
                    "service_code": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 64,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "priority": {
                        "enum": [
                            "ROUTINE",
                            "URGENT",
                            "STAT"
                        ],
                        "type": "string",
                        "description": "* `ROUTINE` - Routine\n* `URGENT` - Urgent\n* `STAT` - Stat",
                        "x-spec-enum-id": "df03fc8557b27ee7"
                    }
                },
                "required": [
                    "service_code"
                ]
            },
            "PaginatedAlertList": {
                "type": "object",
                "required": [
                    "count",
                    "results"
                ],
                "properties": {
                    "count": {
                        "type": "integer",
                        "example": 123
                    },
                    "next": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=4"
                    },
                    "previous": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=2"
                    },
                    "results": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Alert"
                        }
                    }
                }
            },
            "PaginatedAuditEventList": {
                "type": "object",
                "required": [
                    "count",
                    "results"
                ],
                "properties": {
                    "count": {
                        "type": "integer",
                        "example": 123
                    },
                    "next": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=4"
                    },
                    "previous": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=2"
                    },
                    "results": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/AuditEvent"
                        }
                    }
                }
            },
            "PaginatedBillableEventList": {
                "type": "object",
                "required": [
                    "count",
                    "results"
                ],
                "properties": {
                    "count": {
                        "type": "integer",
                        "example": 123
                    },
                    "next": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=4"
                    },
                    "previous": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=2"
                    },
                    "results": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/BillableEvent"
                        }
                    }
                }
            },
            "PaginatedInvoiceLineList": {
                "type": "object",
                "required": [
                    "count",
                    "results"
                ],
                "properties": {
                    "count": {
                        "type": "integer",
                        "example": 123
                    },
                    "next": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=4"
                    },
                    "previous": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=2"
                    },
                    "results": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/InvoiceLine"
                        }
                    }
                }
            },
            "PaginatedInvoiceList": {
                "type": "object",
                "required": [
                    "count",
                    "results"
                ],
                "properties": {
                    "count": {
                        "type": "integer",
                        "example": 123
                    },
                    "next": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=4"
                    },
                    "previous": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=2"
                    },
                    "results": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Invoice"
                        }
                    }
                }
            },
            "PaginatedNotificationList": {
                "type": "object",
                "required": [
                    "count",
                    "results"
                ],
                "properties": {
                    "count": {
                        "type": "integer",
                        "example": 123
                    },
                    "next": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=4"
                    },
                    "previous": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri",
                        "example": "http://api.example.org/accounts/?page=2"
                    },
                    "results": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Notification"
                        }
                    }
                }
            },
            "PatchedFacilityRequest": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 255
                    },
                    "code": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 64,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "facility_type": {
                        "enum": [
                            "HOSPITAL",
                            "CLINIC",
                            "LAB",
                            "PHARMACY",
                            "DIAGNOSTIC",
                            "OTHER"
                        ],
                        "type": "string",
                        "description": "* `HOSPITAL` - Hospital\n* `CLINIC` - Clinic\n* `LAB` - Lab\n* `PHARMACY` - Pharmacy\n* `DIAGNOSTIC` - Diagnostic Center\n* `OTHER` - Other",
                        "x-spec-enum-id": "2a6d87f8646c09dd"
                    },
                    "timezone": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 64
                    },
                    "phone": {
                        "type": "string",
                        "maxLength": 32
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "maxLength": 254
                    },
                    "address_line1": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "address_line2": {
                        "type": "string",
                        "maxLength": 255
                    },
                    "city": {
                        "type": "string",
                        "maxLength": 128
                    },
                    "state": {
                        "type": "string",
                        "maxLength": 128
                    },
                    "pincode": {
                        "type": "string",
                        "maxLength": 16
                    },
                    "country": {
                        "type": "string",
                        "maxLength": 64
                    },
                    "registration_number": {
                        "type": "string",
                        "maxLength": 64
                    },
                    "gstin": {
                        "type": "string",
                        "maxLength": 32
                    },
                    "is_active": {
                        "type": "boolean"
                    },
                    "deactivated_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "deactivation_reason": {
                        "type": "string",
                        "maxLength": 255
                    }
                }
            },
            "Patient": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "facility_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "full_name": {
                        "type": "string",
                        "readOnly": true
                    },
                    "mrn": {
                        "type": "string",
                        "readOnly": true
                    },
                    "phone": {
                        "type": "string",
                        "readOnly": true
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "readOnly": true
                    },
                    "gender": {
                        "type": "string",
                        "readOnly": true
                    },
                    "date_of_birth": {
                        "type": "string",
                        "format": "date",
                        "readOnly": true,
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    }
                },
                "required": [
                    "created_at",
                    "date_of_birth",
                    "email",
                    "facility_id",
                    "full_name",
                    "gender",
                    "id",
                    "mrn",
                    "phone",
                    "tenant_id",
                    "updated_at"
                ]
            },
            "Payment": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "facility_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "invoice": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "amount": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$",
                        "readOnly": true
                    },
                    "method": {
                        "enum": [
                            "CASH",
                            "CARD",
                            "UPI",
                            "BANK",
                            "INSURANCE",
                            "OTHER"
                        ],
                        "type": "string",
                        "description": "* `CASH` - Cash\n* `CARD` - Card\n* `UPI` - UPI\n* `BANK` - Bank Transfer\n* `INSURANCE` - Insurance\n* `OTHER` - Other",
                        "x-spec-enum-id": "e0ecf934a8cc65bc",
                        "readOnly": true
                    },
                    "reference": {
                        "type": "string",
                        "readOnly": true
                    },
                    "received_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "recorded_by_user_id": {
                        "type": "integer",
                        "readOnly": true,
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    }
                },
                "required": [
                    "amount",
                    "created_at",
                    "facility_id",
                    "id",
                    "invoice",
                    "method",
                    "received_at",
                    "recorded_by_user_id",
                    "reference",
                    "tenant_id",
                    "updated_at"
                ]
            },
            "PaymentCreateRequest": {
                "type": "object",
                "properties": {
                    "amount": {
                        "type": "string",
                        "format": "decimal",
                        "pattern": "^-?\\d{0,10}(?:\\.\\d{0,2})?$"
                    },
                    "method": {
                        "type": "string",
                        "minLength": 1,
                        "default": "CASH"
                    },
                    "reference": {
                        "type": "string",
                        "default": ""
                    }
                },
                "required": [
                    "amount"
                ]
            },
            "RefreshResponse": {
                "type": "object",
                "properties": {
                    "detail": {
                        "type": "string"
                    }
                },
                "required": [
                    "detail"
                ]
            },
            "Role": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "code": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    }
                },
                "required": [
                    "code",
                    "id",
                    "name"
                ]
            },
            "ScopeSwitchRequestRequest": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "facility_id": {
                        "type": "string",
                        "format": "uuid"
                    }
                },
                "required": [
                    "facility_id",
                    "tenant_id"
                ]
            },
            "ScopeSwitchResponse": {
                "type": "object",
                "properties": {
                    "message": {
                        "type": "string"
                    },
                    "active_scope": {
                        "$ref": "#/components/schemas/ActiveScope"
                    }
                },
                "required": [
                    "active_scope",
                    "message"
                ]
            },
            "SessionBootstrapResponse": {
                "type": "object",
                "properties": {
                    "user": {
                        "$ref": "#/components/schemas/MeUser"
                    },
                    "memberships": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "additionalProperties": {}
                        }
                    },
                    "active_scope": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/ActiveScope"
                            }
                        ],
                        "nullable": true
                    },
                    "active_tenant": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/TenantMini"
                            }
                        ],
                        "nullable": true
                    },
                    "active_facility": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/FacilityMini"
                            }
                        ],
                        "nullable": true
                    },
                    "active_role": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/Role"
                            }
                        ],
                        "nullable": true
                    },
                    "permissions": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "feature_flags": {
                        "type": "object",
                        "additionalProperties": {}
                    },
                    "server_time": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "api_version": {
                        "type": "string"
                    }
                },
                "required": [
                    "memberships",
                    "user"
                ]
            },
            "Task": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "tenant_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "facility_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "encounter_id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "code": {
                        "type": "string",
                        "readOnly": true,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "title": {
                        "type": "string",
                        "readOnly": true
                    },
                    "status": {
                        "enum": [
                            "OPEN",
                            "IN_PROGRESS",
                            "DONE",
                            "CANCELLED"
                        ],
                        "type": "string",
                        "description": "* `OPEN` - Open\n* `IN_PROGRESS` - In Progress\n* `DONE` - Done\n* `CANCELLED` - Cancelled",
                        "x-spec-enum-id": "0556f02fd4440899",
                        "readOnly": true
                    },
                    "assigned_to_id": {
                        "type": "integer",
                        "nullable": true,
                        "readOnly": true
                    },
                    "due_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "nullable": true
                    },
                    "completed_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "nullable": true
                    },
                    "is_overdue": {
                        "type": "boolean",
                        "readOnly": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    }
                },
                "required": [
                    "assigned_to_id",
                    "code",
                    "completed_at",
                    "created_at",
                    "due_at",
                    "encounter_id",
                    "facility_id",
                    "id",
                    "is_overdue",
                    "status",
                    "tenant_id",
                    "title",
                    "updated_at"
                ]
            },
            "Tenant": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "readOnly": true
                    },
                    "name": {
                        "type": "string",
                        "readOnly": true
                    },
                    "code": {
                        "type": "string",
                        "readOnly": true,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "status": {
                        "enum": [
                            "ACTIVE",
                            "INACTIVE",
                            "SUSPENDED",
                            "DELETED"
                        ],
                        "type": "string",
                        "description": "* `ACTIVE` - Active\n* `INACTIVE` - Inactive\n* `SUSPENDED` - Suspended\n* `DELETED` - Deleted",
                        "x-spec-enum-id": "249ed3de83a4f3b9",
                        "readOnly": true
                    },
                    "metadata": {
                        "readOnly": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true
                    }
                },
                "required": [
                    "code",
                    "created_at",
                    "id",
                    "metadata",
                    "name",
                    "status",
                    "updated_at"
                ]
            },
            "TenantCreateRequest": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 255
                    },
                    "code": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 64,
                        "pattern": "^[-a-zA-Z0-9_]+$"
                    },
                    "status": {
                        "enum": [
                            "ACTIVE",
                            "INACTIVE",
                            "SUSPENDED",
                            "DELETED"
                        ],
                        "type": "string",
                        "description": "* `ACTIVE` - Active\n* `INACTIVE` - Inactive\n* `SUSPENDED` - Suspended\n* `DELETED` - Deleted",
                        "x-spec-enum-id": "249ed3de83a4f3b9",
                        "default": "ACTIVE"
                    },
                    "metadata": {}
                },
                "required": [
                    "code",
                    "name"
                ]
            },
            "TenantMetadataUpdateRequest": {
                "type": "object",
                "properties": {
                    "metadata": {}
                },
                "required": [
                    "metadata"
                ]
            },
            "TenantMini": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "code": {
                        "type": "string",
                        "nullable": true
                    },
                    "name": {
                        "type": "string",
                        "nullable": true
                    }
                },
                "required": [
                    "id"
                ]
            },
            "TenantStatusUpdateRequest": {
                "type": "object",
                "properties": {
                    "status": {
                        "enum": [
                            "ACTIVE",
                            "INACTIVE",
                            "SUSPENDED",
                            "DELETED"
                        ],
                        "type": "string",
                        "description": "* `ACTIVE` - Active\n* `INACTIVE` - Inactive\n* `SUSPENDED` - Suspended\n* `DELETED` - Deleted",
                        "x-spec-enum-id": "249ed3de83a4f3b9"
                    }
                },
                "required": [
                    "status"
                ]
            }
        },
        "securitySchemes": {
            "BearerOrCookieJWT": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT",
                "description": "Send access token via `Authorization: Bearer <token>` or via HttpOnly cookie (hm_access)."
            }
        }
    }
}